{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anshul_614/repos/Pokedex/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anshul_614/repos/Pokedex/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anshul_614/repos/Pokedex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import firebase from\"firebase/compat/app\";// No need to import \"firebase/auth\" again\nimport\"firebase/compat/auth\";// Import the authentication service\nimport\"./NavStyle.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchInput=_useState2[0],setSearchInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];// State to hold user data\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAccountPopupOpen=_useState6[0],setIsAccountPopupOpen=_useState6[1];useEffect(function(){// Set up an authentication listener to handle user changes\nvar unsubscribe=firebase.auth().onAuthStateChanged(function(user){setUser(user);});return function(){// Unsubscribe the listener when component unmounts\nunsubscribe();};},[]);var navigateToHome=function navigateToHome(){navigate(\"/\");};var handleSearch=function handleSearch(){if(searchInput.trim()!==\"\"){navigate(\"/pokemon/\".concat(searchInput.trim().toLowerCase()));}};var handleKeyDown=function handleKeyDown(event){if(event.key===\"Enter\"){handleSearch();}};var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var provider;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:provider=new firebase.auth.GoogleAuthProvider();_context.prev=1;_context.next=4;return firebase.auth().signInWithPopup(provider);case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);console.error(\"Error signing in with Google:\",_context.t0);case 9:case\"end\":return _context.stop();}},_callee,null,[[1,6]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();var handleSignOut=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return firebase.auth().signOut();case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);console.error(\"Error signing out:\",_context2.t0);case 8:case\"end\":return _context2.stop();}},_callee2,null,[[0,5]]);}));return function handleSignOut(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by Pok\\xE9mon name or ID!\",value:searchInput,onChange:function onChange(e){return setSearchInput(e.target.value);},onKeyDown:handleKeyDown,className:\"search-button inputs\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-button\",onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"center \".concat(user?\"center-shift\":\"\"),children:/*#__PURE__*/_jsx(\"h1\",{className:\"pokedex-header\",onClick:navigateToHome,children:\"Pokedex\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-button\",onClick:navigateToHome,children:\"Home\"}),user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-button\",onClick:function onClick(){return setIsAccountPopupOpen(!isAccountPopupOpen);},children:\"Account\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-button\",onClick:handleSignOut,children:\"Sign Out\"})]}):/*#__PURE__*/_jsx(\"button\",{className:\"nav-button\",onClick:handleLogin,children:\"Login\"})]})]}),isAccountPopupOpen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"overlay active\",onClick:function onClick(){return setIsAccountPopupOpen(false);}}),/*#__PURE__*/_jsx(\"div\",{className:\"modal active\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content\",children:user&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Logged in as\"}),\" \",/*#__PURE__*/_jsx(\"strong\",{children:user.displayName})]})})})]})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","firebase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","navigate","_useState","_useState2","_slicedToArray","searchInput","setSearchInput","_useState3","_useState4","user","setUser","_useState5","_useState6","isAccountPopupOpen","setIsAccountPopupOpen","unsubscribe","auth","onAuthStateChanged","navigateToHome","handleSearch","trim","concat","toLowerCase","handleKeyDown","event","key","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","provider","wrap","_callee$","_context","prev","next","GoogleAuthProvider","signInWithPopup","t0","console","error","stop","apply","arguments","handleSignOut","_ref2","_callee2","_callee2$","_context2","signOut","className","children","type","placeholder","value","onChange","e","target","onKeyDown","onClick","displayName"],"sources":["/Users/anshul_614/repos/Pokedex/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport firebase from \"firebase/compat/app\"; // No need to import \"firebase/auth\" again\nimport \"firebase/compat/auth\"; // Import the authentication service\n\nimport \"./NavStyle.css\";\n\nconst Navbar = () => {\n  const navigate = useNavigate();\n\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [user, setUser] = useState(null); // State to hold user data\n  const [isAccountPopupOpen, setIsAccountPopupOpen] = useState(false);\n\n  useEffect(() => {\n    // Set up an authentication listener to handle user changes\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n      setUser(user);\n    });\n\n    return () => {\n      // Unsubscribe the listener when component unmounts\n      unsubscribe();\n    };\n  }, []);\n\n  const navigateToHome = () => {\n    navigate(\"/\");\n  };\n\n  const handleSearch = () => {\n    if (searchInput.trim() !== \"\") {\n      navigate(`/pokemon/${searchInput.trim().toLowerCase()}`);\n    }\n  };\n\n  const handleKeyDown = (event) => {\n    if (event.key === \"Enter\") {\n      handleSearch();\n    }\n  };\n\n  const handleLogin = async () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    try {\n      await firebase.auth().signInWithPopup(provider);\n    } catch (error) {\n      console.error(\"Error signing in with Google:\", error);\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await firebase.auth().signOut();\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n    }\n  };\n\n  return (\n    <div className=\"navbar\">\n      <div className=\"nav-container\">\n        <div className=\"left\">\n          <input\n            type=\"text\"\n            placeholder=\"Search by PokÃ©mon name or ID!\"\n            value={searchInput}\n            onChange={(e) => setSearchInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"search-button inputs\"\n          />\n          <button className=\"nav-button\" onClick={handleSearch}>\n            Search\n          </button>\n        </div>\n        <div\n          className={`center ${\n            user ? \"center-shift\" : \"\"\n          }`}\n        >\n          <h1 className=\"pokedex-header\" onClick={navigateToHome}>\n            Pokedex\n          </h1>\n        </div>\n\n        <div className=\"right\">\n          <button className=\"nav-button\" onClick={navigateToHome}>\n            Home\n          </button>\n          {user ? (\n            <>\n              <button\n                className=\"nav-button\"\n                onClick={() => setIsAccountPopupOpen(!isAccountPopupOpen)}\n              >\n                Account\n              </button>\n              <button className=\"nav-button\" onClick={handleSignOut}>\n                Sign Out\n              </button>\n            </>\n          ) : (\n            <button className=\"nav-button\" onClick={handleLogin}>\n              Login\n            </button>\n          )}\n        </div>\n      </div>\n      {isAccountPopupOpen && (\n        <>\n          <div\n            className=\"overlay active\"\n            onClick={() => setIsAccountPopupOpen(false)}\n          ></div>\n          <div className=\"modal active\">\n            <div className=\"modal-content\">\n              {user && (\n                <>\n                  <p>Logged in as</p> <strong>{user.displayName}</strong>\n                </>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}